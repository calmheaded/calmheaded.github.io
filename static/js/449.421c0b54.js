"use strict";(self.webpackChunkthree_model_viewer=self.webpackChunkthree_model_viewer||[]).push([[449],{7449:function(t,e,r){r.r(e),r.d(e,{SVGLoader:function(){return i}});var n=r(216);class i extends n.aNw{constructor(t){super(t),this.defaultDPI=90,this.defaultUnit="px"}load(t,e,r,i){const a=this;var o=new n.hH6(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,(function(r){try{e(a.parse(r))}catch(r){i&&i(r),a.manager.itemError(t)}}),r,i)}parse(t){const e=this;function r(t,e,r,n,a,o,s,l){if(0==e||0==r)t.lineTo(l.x,l.y);else{n=n*Math.PI/180,e=Math.abs(e),r=Math.abs(r);var c=(s.x-l.x)/2,u=(s.y-l.y)/2,y=Math.cos(n)*c+Math.sin(n)*u;c=-Math.sin(n)*c+Math.cos(n)*u;let p=e*e,x=r*r;u=y*y;var h=c*c,f=u/p+h/x;f=(1<f&&(e*=f=Math.sqrt(f),r*=f,p=e*e,x=r*r),p*h+x*u),h=(p*x-f)/f;let b=Math.sqrt(Math.max(0,h));u=(b=a===o?-b:b)*e*c/r,f=-b*r*y/e,h=Math.cos(n)*u-Math.sin(n)*f+(s.x+l.x)/2,a=Math.sin(n)*u+Math.cos(n)*f+(s.y+l.y)/2,s=i(1,0,(y-u)/e,(c-f)/r),l=i((y-u)/e,(c-f)/r,(-y-u)/e,(-c-f)/r)%(2*Math.PI),t.currentPath.absellipse(h,a,e,r,s,s+l,0===o,n)}}function i(t,e,r,n){var i=t*r+e*n,a=Math.sqrt(t*t+e*e)*Math.sqrt(r*r+n*n);let o=Math.acos(Math.max(-1,Math.min(1,i/a)));return t*n-e*r<0?-o:o}function a(t,e){e=Object.assign({},e);let r={};if(t.hasAttribute("class")){var n=t.getAttribute("class").split(/\s/).filter(Boolean).map((t=>t.trim()));for(let t=0;t<n.length;t++)r=Object.assign(r,x["."+n[t]])}function i(n,i,a){void 0===a&&(a=function(t){return t.startsWith("url"),t}),t.hasAttribute(n)&&(e[i]=a(t.getAttribute(n))),r[n]&&(e[i]=a(r[n])),t.style&&""!==t.style[n]&&(e[i]=a(t.style[n]))}function a(t){return Math.max(0,Math.min(1,u(t)))}function o(t){return Math.max(0,u(t))}return t.hasAttribute("id")&&(r=Object.assign(r,x["#"+t.getAttribute("id")])),i("fill","fill"),i("fill-opacity","fillOpacity",a),i("fill-rule","fillRule"),i("opacity","opacity",a),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",a),i("stroke-width","strokeWidth",o),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",o),i("visibility","visibility"),e}function o(t,e){return t-(e-t)}function s(t,e,r){if("string"!=typeof t)throw new TypeError("Invalid input: "+typeof t);var n,i={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let a=0,o=!0,s="",l="";const c=[];function u(t,e,r){throw t=new SyntaxError('Unexpected character "'+t+'" at index '+e+"."),t.partial=r,t}function y(){""!==s&&(""===l?c.push(Number(s)):c.push(Number(s)*Math.pow(10,Number(l)))),s="",l=""}var h=t.length;for(let f=0;f<h;f++)if(n=t[f],Array.isArray(e)&&e.includes(c.length%r)&&i.FLAGS.test(n))a=1,s=n,y();else{if(0===a){if(i.WHITESPACE.test(n))continue;if(i.DIGIT.test(n)||i.SIGN.test(n)){a=1,s=n;continue}if(i.POINT.test(n)){a=2,s=n;continue}i.COMMA.test(n)&&(o&&u(n,f,c),o=!0)}if(1===a){if(i.DIGIT.test(n)){s+=n;continue}if(i.POINT.test(n)){s+=n,a=2;continue}if(i.EXP.test(n)){a=3;continue}i.SIGN.test(n)&&1===s.length&&i.SIGN.test(s[0])&&u(n,f,c)}if(2===a){if(i.DIGIT.test(n)){s+=n;continue}if(i.EXP.test(n)){a=3;continue}i.POINT.test(n)&&"."===s[s.length-1]&&u(n,f,c)}if(3===a){if(i.DIGIT.test(n)){l+=n;continue}if(i.SIGN.test(n)){if(""===l){l+=n;continue}1===l.length&&i.SIGN.test(l)&&u(n,f,c)}}i.WHITESPACE.test(n)?(y(),a=0,o=!1):i.COMMA.test(n)?(y(),a=0,o=!0):i.SIGN.test(n)?(y(),a=1,s=n):i.POINT.test(n)?(y(),a=2,s=n):u(n,f,c)}return y(),c}const l=["mm","cm","in","pt","pc","px"],c={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function u(t){let r,n="px";if("string"==typeof t||t instanceof String)for(let e=0,a=l.length;e<a;e++){var i=l[e];if(t.endsWith(i)){n=i,t=t.substring(0,t.length-i.length);break}}return"px"===n&&"px"!==e.defaultUnit?r=c.in[e.defaultUnit]/e.defaultDPI:(r=c[n][e.defaultUnit])<0&&(r=c[n].in*e.defaultDPI),r*parseFloat(t)}function y(t){return t=t.elements,t[0]*t[4]-t[1]*t[3]<0}function h(t){return t=t.elements,Math.sqrt(t[0]*t[0]+t[1]*t[1])}function f(t){return t=t.elements,Math.sqrt(t[3]*t[3]+t[4]*t[4])}const p=[],x={},b=[],d=new n.Vkp,g=new n.Vkp,v=new n.Vkp,m=new n.Vkp,M=new n.FM8,k=new n.Pa4,w=new n.Vkp;return t=(new DOMParser).parseFromString(t,"image/svg+xml"),function t(e,i){if(1===e.nodeType){var l,c,A,T,I,P,N,E=function(t){return t.hasAttribute("transform")||"use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))?(t=function(t){var e,r,i=new n.Vkp,a=d;if("use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))&&(e=u(t.getAttribute("x")),r=u(t.getAttribute("y")),i.translate(e,r)),t.hasAttribute("transform")){var o=t.getAttribute("transform").split(")");for(let t=o.length-1;0<=t;t--){var l=o[t].trim();if(""!==l){var c=l.indexOf("("),y=l.length;if(0<c&&c<y){y=l.slice(0,c);var h=s(l.slice(c+1));switch(a.identity(),y){case"translate":if(1<=h.length){var f=h[0];let t=0;2<=h.length&&(t=h[1]),a.translate(f,t)}break;case"rotate":if(1<=h.length){let t=0,e=0;f=h[0]*Math.PI/180,3<=h.length&&(t=h[1],e=h[2]),g.makeTranslation(-t,-e),v.makeRotation(f),m.multiplyMatrices(v,g),g.makeTranslation(t,e),a.multiplyMatrices(g,m)}break;case"scale":if(1<=h.length){var p=h[0];let t=p;2<=h.length&&(t=h[1]),a.scale(p,t)}break;case"skewX":1===h.length&&a.set(1,Math.tan(h[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===h.length&&a.set(1,0,0,Math.tan(h[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===h.length&&a.set(h[0],h[2],h[4],h[1],h[3],h[5],0,0,1)}}i.premultiply(a)}}}return i}(t),0<b.length&&t.premultiply(b[b.length-1]),w.copy(t),b.push(t),t):null}(e);let D=!1,H=null;switch(e.nodeName){case"svg":i=a(e,i);break;case"style":var C=e;if(C.sheet&&C.sheet.cssRules&&C.sheet.cssRules.length)for(let _=0;_<C.sheet.cssRules.length;_++){var S=C.sheet.cssRules[_];if(1===S.type){var O=S.selectorText.split(/,/gm).filter(Boolean).map((t=>t.trim()));for(let j=0;j<O.length;j++){var F=Object.fromEntries(Object.entries(S.style).filter((([,t])=>""!==t)));x[O[j]]=Object.assign(x[O[j]]||{},F)}}}break;case"g":i=a(e,i);break;case"path":i=a(e,i),e.hasAttribute("d")&&(H=function(t){var e=new n.T_1,i=new n.FM8,a=new n.FM8,l=new n.FM8;let c=!0,u=!1;var y=(t=t.getAttribute("d")).match(/[a-df-z][^a-df-z]*/gi);for(let n=0,M=y.length;n<M;n++){var h,f,p=y[n],x=p.charAt(0),b=p.slice(1).trim();let t;switch(!0===c&&(u=!0,c=!1),x){case"M":t=s(b);for(let r=0,n=t.length;r<n;r+=2)i.x=t[r+0],i.y=t[r+1],a.x=i.x,a.y=i.y,0===r?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y),0===r&&l.copy(i);break;case"H":t=s(b);for(let r=0,n=t.length;r<n;r++)i.x=t[r],a.x=i.x,a.y=i.y,e.lineTo(i.x,i.y),0===r&&!0===u&&l.copy(i);break;case"V":t=s(b);for(let r=0,n=t.length;r<n;r++)i.y=t[r],a.x=i.x,a.y=i.y,e.lineTo(i.x,i.y),0===r&&!0===u&&l.copy(i);break;case"L":t=s(b);for(let r=0,n=t.length;r<n;r+=2)i.x=t[r+0],i.y=t[r+1],a.x=i.x,a.y=i.y,e.lineTo(i.x,i.y),0===r&&!0===u&&l.copy(i);break;case"C":t=s(b);for(let r=0,n=t.length;r<n;r+=6)e.bezierCurveTo(t[r+0],t[r+1],t[r+2],t[r+3],t[r+4],t[r+5]),a.x=t[r+2],a.y=t[r+3],i.x=t[r+4],i.y=t[r+5],0===r&&!0===u&&l.copy(i);break;case"S":t=s(b);for(let r=0,n=t.length;r<n;r+=4)e.bezierCurveTo(o(i.x,a.x),o(i.y,a.y),t[r+0],t[r+1],t[r+2],t[r+3]),a.x=t[r+0],a.y=t[r+1],i.x=t[r+2],i.y=t[r+3],0===r&&!0===u&&l.copy(i);break;case"Q":t=s(b);for(let r=0,n=t.length;r<n;r+=4)e.quadraticCurveTo(t[r+0],t[r+1],t[r+2],t[r+3]),a.x=t[r+0],a.y=t[r+1],i.x=t[r+2],i.y=t[r+3],0===r&&!0===u&&l.copy(i);break;case"T":t=s(b);for(let r=0,n=t.length;r<n;r+=2){var d=o(i.x,a.x),g=o(i.y,a.y);e.quadraticCurveTo(d,g,t[r+0],t[r+1]),a.x=d,a.y=g,i.x=t[r+0],i.y=t[r+1],0===r&&!0===u&&l.copy(i)}break;case"A":t=s(b,[3,4],7);for(let n=0,o=t.length;n<o;n+=7)t[n+5]==i.x&&t[n+6]==i.y||(h=i.clone(),i.x=t[n+5],i.y=t[n+6],a.x=i.x,a.y=i.y,r(e,t[n],t[n+1],t[n+2],t[n+3],t[n+4],h,i),0===n&&!0===u&&l.copy(i));break;case"m":t=s(b);for(let r=0,n=t.length;r<n;r+=2)i.x+=t[r+0],i.y+=t[r+1],a.x=i.x,a.y=i.y,0===r?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y),0===r&&l.copy(i);break;case"h":t=s(b);for(let r=0,n=t.length;r<n;r++)i.x+=t[r],a.x=i.x,a.y=i.y,e.lineTo(i.x,i.y),0===r&&!0===u&&l.copy(i);break;case"v":t=s(b);for(let r=0,n=t.length;r<n;r++)i.y+=t[r],a.x=i.x,a.y=i.y,e.lineTo(i.x,i.y),0===r&&!0===u&&l.copy(i);break;case"l":t=s(b);for(let r=0,n=t.length;r<n;r+=2)i.x+=t[r+0],i.y+=t[r+1],a.x=i.x,a.y=i.y,e.lineTo(i.x,i.y),0===r&&!0===u&&l.copy(i);break;case"c":t=s(b);for(let r=0,n=t.length;r<n;r+=6)e.bezierCurveTo(i.x+t[r+0],i.y+t[r+1],i.x+t[r+2],i.y+t[r+3],i.x+t[r+4],i.y+t[r+5]),a.x=i.x+t[r+2],a.y=i.y+t[r+3],i.x+=t[r+4],i.y+=t[r+5],0===r&&!0===u&&l.copy(i);break;case"s":t=s(b);for(let r=0,n=t.length;r<n;r+=4)e.bezierCurveTo(o(i.x,a.x),o(i.y,a.y),i.x+t[r+0],i.y+t[r+1],i.x+t[r+2],i.y+t[r+3]),a.x=i.x+t[r+0],a.y=i.y+t[r+1],i.x+=t[r+2],i.y+=t[r+3],0===r&&!0===u&&l.copy(i);break;case"q":t=s(b);for(let r=0,n=t.length;r<n;r+=4)e.quadraticCurveTo(i.x+t[r+0],i.y+t[r+1],i.x+t[r+2],i.y+t[r+3]),a.x=i.x+t[r+0],a.y=i.y+t[r+1],i.x+=t[r+2],i.y+=t[r+3],0===r&&!0===u&&l.copy(i);break;case"t":t=s(b);for(let r=0,n=t.length;r<n;r+=2){var v=o(i.x,a.x),m=o(i.y,a.y);e.quadraticCurveTo(v,m,i.x+t[r+0],i.y+t[r+1]),a.x=v,a.y=m,i.x=i.x+t[r+0],i.y=i.y+t[r+1],0===r&&!0===u&&l.copy(i)}break;case"a":t=s(b,[3,4],7);for(let n=0,o=t.length;n<o;n+=7)0==t[n+5]&&0==t[n+6]||(f=i.clone(),i.x+=t[n+5],i.y+=t[n+6],a.x=i.x,a.y=i.y,r(e,t[n],t[n+1],t[n+2],t[n+3],t[n+4],f,i),0===n&&!0===u&&l.copy(i));break;case"Z":case"z":e.currentPath.autoClose=!0,0<e.currentPath.curves.length&&(i.copy(l),e.currentPath.currentPoint.copy(i),c=!0)}u=!1}return e}(e));break;case"rect":i=a(e,i),H=function(t){var e=u(t.getAttribute("x")||0),r=u(t.getAttribute("y")||0),i=u(t.getAttribute("rx")||t.getAttribute("ry")||0),a=u(t.getAttribute("ry")||t.getAttribute("rx")||0),o=u(t.getAttribute("width")),s=(t=u(t.getAttribute("height")),.448084975506),l=new n.T_1;return l.moveTo(e+i,r),l.lineTo(e+o-i,r),0===i&&0===a||l.bezierCurveTo(e+o-i*s,r,e+o,r+a*s,e+o,r+a),l.lineTo(e+o,r+t-a),0===i&&0===a||l.bezierCurveTo(e+o,r+t-a*s,e+o-i*s,r+t,e+o-i,r+t),l.lineTo(e+i,r+t),0===i&&0===a||l.bezierCurveTo(e+i*s,r+t,e,r+t-a*s,e,r+t-a),l.lineTo(e,r+a),0===i&&0===a||l.bezierCurveTo(e,r+a*s,e+i*s,r,e+i,r),l}(e);break;case"polygon":i=a(e,i),H=function(t){const e=new n.T_1;let r=0;return t.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,(function(t,n,i){n=u(n),i=u(i),0===r?e.moveTo(n,i):e.lineTo(n,i),r++})),e.currentPath.autoClose=!0,e}(e);break;case"polyline":i=a(e,i),H=function(t){const e=new n.T_1;let r=0;return t.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,(function(t,n,i){n=u(n),i=u(i),0===r?e.moveTo(n,i):e.lineTo(n,i),r++})),e.currentPath.autoClose=!1,e}(e);break;case"circle":i=a(e,i),I=u((T=e).getAttribute("cx")||0),P=u(T.getAttribute("cy")||0),T=u(T.getAttribute("r")||0),(N=new n.y$t).absarc(I,P,T,0,2*Math.PI),(I=new n.T_1).subPaths.push(N),H=I;break;case"ellipse":i=a(e,i),T=u((P=e).getAttribute("cx")||0),N=u(P.getAttribute("cy")||0),I=u(P.getAttribute("rx")||0),P=u(P.getAttribute("ry")||0),(A=new n.y$t).absellipse(T,N,I,P,0,2*Math.PI),(T=new n.T_1).subPaths.push(A),H=T;break;case"line":i=a(e,i),L=u((A=e).getAttribute("x1")||0),R=u(A.getAttribute("y1")||0),l=u(A.getAttribute("x2")||0),A=u(A.getAttribute("y2")||0),(c=new n.T_1).moveTo(L,R),c.lineTo(l,A),c.currentPath.autoClose=!1,H=c;break;case"defs":D=!0;break;case"use":i=a(e,i);var L=(e.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),R=e.viewportElement.getElementById(L);R&&t(R,i)}if(H){void 0!==i.fill&&"none"!==i.fill&&H.color.setStyle(i.fill);var V=H,q=w;function U(t){k.set(t.x,t.y,1).applyMatrix3(q),t.set(k.x,k.y)}function X(t){var e=t.xRadius,r=t.yRadius,i=Math.cos(t.aRotation),a=Math.sin(t.aRotation),o=(e=new n.Pa4(e*i,e*a,0),a=new n.Pa4(-r*a,r*i,0),r=e.applyMatrix3(q),i=a.applyMatrix3(q),e=d.set(r.x,i.x,0,r.y,i.y,0,0,0,1),a=g.copy(e).invert(),i=function(t,e,r){let n,i,a,o,s;var l=t+r,c=t-r,u=Math.sqrt(c*c+4*e*e);return i=0<l?(n=.5*(l+u),s=1/n,t*s*r-e*s*e):l<0?.5*(l-u):(n=.5*u,-.5*u),a=0<c?c+u:c-u,Math.abs(a)>2*Math.abs(e)?(s=-2*e/a,o=1/Math.sqrt(1+s*s),a=s*o):o=0===Math.abs(e)?(a=1,0):(s=-.5*a/e,a=1/Math.sqrt(1+s*s),s*a),0<c&&(s=a,a=-o,o=s),{rt1:n,rt2:i,cs:a,sn:o}}((r=v.copy(a).transpose().multiply(a).elements)[0],r[1],r[4]),a=Math.sqrt(i.rt1),r=Math.sqrt(i.rt2),t.xRadius=1/a,t.yRadius=1/r,t.aRotation=Math.atan2(i.sn,i.cs),(t.aEndAngle-t.aStartAngle)%(2*Math.PI)<Number.EPSILON);if(!o){o=g.set(a,0,0,0,r,0,0,0,1),a=v.set(i.cs,i.sn,0,-i.sn,i.cs,0,0,0,1);const s=o.multiply(a).multiply(e);r=t=>{var{x:t,y:e}=new n.Pa4(Math.cos(t),Math.sin(t),0).applyMatrix3(s);return Math.atan2(e,t)},t.aStartAngle=r(t.aStartAngle),t.aEndAngle=r(t.aEndAngle),y(q)&&(t.aClockwise=!t.aClockwise)}}var G=V.subPaths;for(let $=0,J=G.length;$<J;$++){var W=G[$].curves;for(let Y=0;Y<W.length;Y++){var z=W[Y];z.isLineCurve?(U(z.v1),U(z.v2)):z.isCubicBezierCurve?(U(z.v0),U(z.v1),U(z.v2),U(z.v3)):z.isQuadraticBezierCurve?(U(z.v0),U(z.v1),U(z.v2)):z.isEllipseCurve&&(M.set(z.aX,z.aY),U(M),z.aX=M.x,z.aY=M.y,(function(t){var e,r=(r=t.elements)[0]*r[3]+r[1]*r[4];if(0!=r)return e=h(t),t=f(t),Math.abs(r/(e*t))>Number.EPSILON}(q)?X:function(t){var e=h(q),r=f(q);t.xRadius*=e,t.yRadius*=r,r=e>Number.EPSILON?Math.atan2(q.elements[1],q.elements[0]):Math.atan2(-q.elements[3],q.elements[4]);t.aRotation+=r,y(q)&&(t.aStartAngle*=-1,t.aEndAngle*=-1,t.aClockwise=!t.aClockwise)})(z))}}p.push(H),H.userData={node:e,style:i}}var B=e.childNodes;for(let Q=0;Q<B.length;Q++){const Z=B[Q];D&&"style"!==Z.nodeName&&"defs"!==Z.nodeName||t(Z,i)}E&&(b.pop(),0<b.length?w.copy(b[b.length-1]):w.identity())}}(t.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),t={paths:p,xml:t.documentElement},t}static createShapes(t){const e=999999999,r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function a(t,e,n){var a=n.x-e.x,o=n.y-e.y,s=t.x-e.x,l=t.y-e.y,c=a*l-s*o;if(t.x===e.x&&t.y===e.y)i.loc=r.ORIGIN,i.t=0;else if(t.x===n.x&&t.y===n.y)i.loc=r.DESTINATION,i.t=1;else if(c<-Number.EPSILON)i.loc=r.LEFT;else if(c>Number.EPSILON)i.loc=r.RIGHT;else if(a*s<0||o*l<0)i.loc=r.BEHIND;else if(Math.sqrt(a*a+o*o)<Math.sqrt(s*s+l*l))i.loc=r.BEYOND;else{let t;t=0!=a?s/a:l/o,i.loc=r.BETWEEN,i.t=t}}function o(t,e){var o=[],s=[];for(let u=1;u<t.length;u++){var l=t[u-1],c=t[u];for(let t=1;t<e.length;t++){const u=function(t,e,n,o){var s,l,c=t.x,u=e.x,y=n.x,h=o.x,f=t.y,p=e.y,x=n.y,b=o.y,d=(h-y)*(f-x)-(b-x)*(c-y);h=d/(b=(b-x)*(u-c)-(h-y)*(p-f)),x=((u-c)*(f-x)-(p-f)*(c-y))/b;if(0==b&&0!=d||h<=0||1<=h||x<0||1<x)return null;if(0==d&&0==b){for(let l=0;l<2;l++){if(a(0===l?n:o,t,e),i.loc==r.ORIGIN)return{x:(s=0===l?n:o).x,y:s.y,t:i.t};if(i.loc==r.BETWEEN)return{x:+(c+i.t*(u-c)).toPrecision(10),y:+(f+i.t*(p-f)).toPrecision(10),t:i.t}}return null}for(let g=0;g<2;g++)if(a(0===g?n:o,t,e),i.loc==r.ORIGIN)return{x:(l=0===g?n:o).x,y:l.y,t:i.t};return{x:+(c+h*(u-c)).toPrecision(10),y:+(f+h*(p-f)).toPrecision(10),t:h}}(l,c,e[t-1],e[t]);null!==u&&void 0===o.find((t=>t.t<=u.t+Number.EPSILON&&t.t>=u.t-Number.EPSILON))&&(o.push(u),s.push(new n.FM8(u.x,u.y)))}}return s}function s(t,e,r,i,a){null!=a&&""!==a||(a="nonzero");var s=new n.FM8;t.boundingBox.getCenter(s),r=[new n.FM8(r,s.y),new n.FM8(i,s.y)],i=function(t,e,r){const i=new n.FM8,a=(e.getCenter(i),[]);return r.forEach((e=>{e.boundingBox.containsPoint(i)&&o(t,e.points).forEach((t=>{a.push({identifier:e.identifier,isCW:e.isCW,point:t})}))})),a.sort(((t,e)=>t.point.x-e.point.x)),a}(r,t.boundingBox,e);i.sort(((t,e)=>t.point.x-e.point.x));const l=[],c=[];i.forEach((e=>{(e.identifier===t.identifier?l:c).push(e)}));var u=l[0].point.x,y=[];let h=0;for(;h<c.length&&c[h].point.x<u;)0<y.length&&y[y.length-1]===c[h].identifier?y.pop():y.push(c[h].identifier),h++;if(y.push(t.identifier),"evenodd"===a)return{identifier:t.identifier,isHole:y.length%2==0,for:y[y.length-2]};if("nonzero"===a){let r=!0,n=null,i=null;for(let t=0;t<y.length;t++){var f=y[t];r?(i=e[f].isCW,r=!1,n=f):i!==e[f].isCW&&(i=e[f].isCW,r=!0)}return{identifier:t.identifier,isHole:r,for:n}}}let l=e,c=-e,u=t.subPaths.map((t=>{var r=t.getPoints();let i=-e,a=e,o=-e,s=e;for(let e=0;e<r.length;e++){const t=r[e];t.y>i&&(i=t.y),t.y<a&&(a=t.y),t.x>o&&(o=t.x),t.x<s&&(s=t.x)}return c<=o&&(c=o+1),l>=s&&(l=s-1),{curves:t.curves,points:r,isCW:n.iDF.isClockWise(r),identifier:-1,boundingBox:new n.TUj(new n.FM8(s,a),new n.FM8(o,i))}}));u=u.filter((t=>1<t.points.length));for(let n=0;n<u.length;n++)u[n].identifier=n;const y=u.map((e=>s(e,u,l,c,t.userData?.style.fillRule))),h=[];return u.forEach((t=>{if(!y[t.identifier].isHole){const e=new n.bnF;e.curves=t.curves,y.filter((e=>e.isHole&&e.for===t.identifier)).forEach((t=>{t=u[t.identifier];var r=new n.y$t;r.curves=t.curves,e.holes.push(r)})),h.push(e)}})),h}static getStrokeStyle(t,e,r,n,i){return{strokeColor:e=void 0!==e?e:"#000",strokeWidth:t=void 0!==t?t:1,strokeLineJoin:r=void 0!==r?r:"miter",strokeLineCap:n=void 0!==n?n:"butt",strokeMiterLimit:i=void 0!==i?i:4}}static pointsToStroke(t,e,r,a){var o=[],s=[],l=[];return 0===i.pointsToStrokeWithBuffers(t,e,r,a,o,s,l)?null:((t=new n.u9r).setAttribute("position",new n.a$l(o,3)),t.setAttribute("normal",new n.a$l(s,3)),t.setAttribute("uv",new n.a$l(l,2)),t)}static pointsToStrokeWithBuffers(t,e,r,i,a,o,s,l){const c=new n.FM8,u=new n.FM8,y=new n.FM8,h=new n.FM8;var f=new n.FM8,p=new n.FM8,x=new n.FM8;const b=new n.FM8,d=new n.FM8;var g=new n.FM8,v=new n.FM8;const m=new n.FM8,M=new n.FM8,k=new n.FM8,w=new n.FM8,A=new n.FM8;var T=new n.FM8,I=(r=void 0!==r?r:12,i=void 0!==i?i:.001,l=void 0!==l?l:0,(t=function(t){let e=!1;for(let n=1,a=t.length-1;n<a;n++)if(t[n].distanceTo(t[n+1])<i){e=!0;break}if(!e)return t;var r=[];r.push(t[0]);for(let n=1,a=t.length-1;n<a;n++)t[n].distanceTo(t[n+1])>=i&&r.push(t[n]);return r.push(t[t.length-1]),r}(t)).length);if(I<2)return 0;var P=t[0].equals(t[I-1]);let N,E,C=t[0];var S=e.strokeWidth/2,O=1/(I-1);let F,L,R,V,q=0,G=!1,W=0,z=3*l,B=2*l;U(t[0],t[1],c).multiplyScalar(S),b.copy(t[0]).sub(c),d.copy(t[0]).add(c),g.copy(b),v.copy(d);for(let n=1;n<I;n++){N=t[n],E=n===I-1?P?t[1]:void 0:t[n+1];var D=c;if(U(C,N,D),y.copy(D).multiplyScalar(S),m.copy(N).sub(y),M.copy(N).add(y),F=q+O,L=!1,void 0!==E)if(U(N,E,u),y.copy(u).multiplyScalar(S),k.copy(N).sub(y),w.copy(N).add(y),R=!0,y.subVectors(E,C),D.dot(y)<0&&(R=!1),1===n&&(G=R),y.subVectors(E,N),y.normalize(),D=Math.abs(D.dot(y)),D>Number.EPSILON){D=S/D;var H=(y.multiplyScalar(-D),h.subVectors(N,C),f.copy(h).setLength(D).add(y),A.copy(f).negate(),f.length()),_=(D=h.length(),h.divideScalar(D),p.subVectors(E,N),p.length());switch(p.divideScalar(_),h.dot(A)<D&&p.dot(A)<_&&(L=!0),T.copy(f).add(N),A.add(N),V=!1,L?(R?(w.copy(A),M):(k.copy(A),m)).copy(A):J(),e.strokeLineJoin){case"bevel":Y(R,L,F);break;case"round":Q(R,L),R?$(N,m,k,F,0):$(N,w,M,F,1);break;default:var j=S*e.strokeMiterLimit/H;if(j<1){if("miter-clip"!==e.strokeLineJoin){Y(R,L,F);break}Q(R,L),R?(p.subVectors(T,m).multiplyScalar(j).add(m),x.subVectors(T,k).multiplyScalar(j).add(k),X(m,F,0),X(p,F,0),X(N,F,.5),X(N,F,.5),X(p,F,0),X(x,F,0),X(N,F,.5),X(x,F,0),X(k,F,0)):(p.subVectors(T,M).multiplyScalar(j).add(M),x.subVectors(T,w).multiplyScalar(j).add(w),X(M,F,1),X(p,F,1),X(N,F,.5),X(N,F,.5),X(p,F,1),X(x,F,1),X(N,F,.5),X(x,F,1),X(w,F,1))}else L?(R?(X(d,q,1),X(b,q,0),X(T,F,0),X(d,q,1),X(T,F,0),X(A,F,1)):(X(d,q,1),X(b,q,0),X(T,F,1),X(b,q,0),X(A,F,0),X(T,F,1)),(R?k:w).copy(T)):R?(X(m,F,0),X(T,F,0),X(N,F,.5),X(N,F,.5),X(T,F,0),X(k,F,0)):(X(M,F,1),X(T,F,1),X(N,F,.5),X(N,F,.5),X(T,F,1),X(w,F,1)),V=!0}}else J();else J();P||n!==I-1||Z(t[0],g,v,R,!0,q),q=F,C=N,b.copy(k),d.copy(w)}if(P){if(L&&a){let t=T,e=A;G!==R&&(t=A,e=T),R?(V||G)&&(e.toArray(a,0),e.toArray(a,9),V)&&t.toArray(a,3):!V&&G||(e.toArray(a,3),e.toArray(a,9),V&&t.toArray(a,0))}}else Z(N,m,M,R,!1,F);return W;function U(t,e,r){return r.subVectors(e,t),r.set(-r.y,r.x).normalize()}function X(t,e,r){a&&(a[z]=t.x,a[z+1]=t.y,a[z+2]=0,o&&(o[z]=0,o[z+1]=0,o[z+2]=1),z+=3,s)&&(s[B]=e,s[B+1]=r,B+=2),W+=3}function $(t,e,n,i,a){c.copy(e).sub(t).normalize(),u.copy(n).sub(t).normalize();let o=Math.PI;var s=c.dot(u);Math.abs(s)<1&&(o=Math.abs(Math.acos(s))),o/=r,y.copy(e);for(let l=0,c=r-1;l<c;l++)h.copy(y).rotateAround(t,o),X(y,i,a),X(h,i,a),X(t,i,.5),y.copy(h);X(h,i,a),X(n,i,a),X(t,i,.5)}function J(){X(d,q,1),X(b,q,0),X(m,F,0),X(d,q,1),X(m,F,1),X(M,F,0)}function Y(t,e,r){e?(t?(X(d,q,1),X(b,q,0),X(m,F,0),X(d,q,1),X(m,F,0),X(A,F,1),X(m,r,0),X(k,r,0)):(X(d,q,1),X(b,q,0),X(M,F,1),X(b,q,0),X(A,F,0),X(M,F,1),X(M,r,1),X(w,r,0)),X(A,r,.5)):(t?(X(m,r,0),X(k,r,0)):(X(M,r,1),X(w,r,0)),X(N,r,.5))}function Q(t,e){e&&(t?(X(d,q,1),X(b,q,0),X(m,F,0),X(d,q,1),X(m,F,0),X(A,F,1),X(m,q,0),X(N,F,.5),X(A,F,1),X(N,F,.5),X(k,q,0),X(A,F,1)):(X(d,q,1),X(b,q,0),X(M,F,1),X(b,q,0),X(A,F,0),X(M,F,1),X(M,q,1),X(A,F,0),X(N,F,.5),X(N,F,.5),X(A,F,0),X(w,q,1)))}function Z(t,r,n,i,o,s){switch(e.strokeLineCap){case"round":o?$(t,n,r,s,.5):$(t,r,n,s,.5);break;case"square":var l;o?(c.subVectors(r,t),u.set(c.y,-c.x),y.addVectors(c,u).add(t),h.subVectors(u,c).add(t),i?(y.toArray(a,3),h.toArray(a,0),h.toArray(a,9)):(y.toArray(a,3),y.toArray(a,9),h.toArray(a,0))):(c.subVectors(n,t),u.set(c.y,-c.x),y.addVectors(c,u).add(t),h.subVectors(u,c).add(t),l=a.length,i?(y.toArray(a,l-3),h.toArray(a,l-6)):(y.toArray(a,l-6),h.toArray(a,l-3)),h.toArray(a,l-12))}}}}}}]);