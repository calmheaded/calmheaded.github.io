"use strict";(self.webpackChunkthree_model_viewer=self.webpackChunkthree_model_viewer||[]).push([[383],{6383:function(e,r,t){t.r(r),t.d(r,{KMZLoader:function(){return s}});var n=t(216),a=t(2974),o=t(6925);class s extends n.aNw{constructor(e){super(e)}load(e,r,t,a){const o=this;var s=new n.hH6(o.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,(function(t){try{r(o.parse(t))}catch(t){a&&a(t),o.manager.itemError(e)}}),t,a)}parse(e){var r=new n.lLk;r.setURLModifier((function(e){var r=function(e){for(const r in t)if(r.slice(-e.length)===e)return t[r]}(e);return r?(r=new Blob([r.buffer],{type:"application/octet-stream"}),URL.createObjectURL(r)):e}));const t=o.GZ(new Uint8Array(e));if(t["doc.kml"]){if(e=(new DOMParser).parseFromString(o.T8(t["doc.kml"]),"application/xml").querySelector("Placemark Model Link href"),e)return new a.ColladaLoader(r).parse(o.T8(t[e.textContent]))}else for(const n in t)if("dae"===n.split(".").pop().toLowerCase())return new a.ColladaLoader(r).parse(o.T8(t[n]));return{scene:new n.ZAu}}}}}]);