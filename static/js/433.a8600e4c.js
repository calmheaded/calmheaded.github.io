"use strict";(self.webpackChunkthree_model_viewer=self.webpackChunkthree_model_viewer||[]).push([[433],{8433:function(e,t,r){r.r(t),r.d(t,{MD2Loader:function(){return a}});var s=r(216);const n=[[-.525731,0,.850651],[-.442863,.238856,.864188],[-.295242,0,.955423],[-.309017,.5,.809017],[-.16246,.262866,.951056],[0,0,1],[0,.850651,.525731],[-.147621,.716567,.681718],[.147621,.716567,.681718],[0,.525731,.850651],[.309017,.5,.809017],[.525731,0,.850651],[.295242,0,.955423],[.442863,.238856,.864188],[.16246,.262866,.951056],[-.681718,.147621,.716567],[-.809017,.309017,.5],[-.587785,.425325,.688191],[-.850651,.525731,0],[-.864188,.442863,.238856],[-.716567,.681718,.147621],[-.688191,.587785,.425325],[-.5,.809017,.309017],[-.238856,.864188,.442863],[-.425325,.688191,.587785],[-.716567,.681718,-.147621],[-.5,.809017,-.309017],[-.525731,.850651,0],[0,.850651,-.525731],[-.238856,.864188,-.442863],[0,.955423,-.295242],[-.262866,.951056,-.16246],[0,1,0],[0,.955423,.295242],[-.262866,.951056,.16246],[.238856,.864188,.442863],[.262866,.951056,.16246],[.5,.809017,.309017],[.238856,.864188,-.442863],[.262866,.951056,-.16246],[.5,.809017,-.309017],[.850651,.525731,0],[.716567,.681718,.147621],[.716567,.681718,-.147621],[.525731,.850651,0],[.425325,.688191,.587785],[.864188,.442863,.238856],[.688191,.587785,.425325],[.809017,.309017,.5],[.681718,.147621,.716567],[.587785,.425325,.688191],[.955423,.295242,0],[1,0,0],[.951056,.16246,.262866],[.850651,-.525731,0],[.955423,-.295242,0],[.864188,-.442863,.238856],[.951056,-.16246,.262866],[.809017,-.309017,.5],[.681718,-.147621,.716567],[.850651,0,.525731],[.864188,.442863,-.238856],[.809017,.309017,-.5],[.951056,.16246,-.262866],[.525731,0,-.850651],[.681718,.147621,-.716567],[.681718,-.147621,-.716567],[.850651,0,-.525731],[.809017,-.309017,-.5],[.864188,-.442863,-.238856],[.951056,-.16246,-.262866],[.147621,.716567,-.681718],[.309017,.5,-.809017],[.425325,.688191,-.587785],[.442863,.238856,-.864188],[.587785,.425325,-.688191],[.688191,.587785,-.425325],[-.147621,.716567,-.681718],[-.309017,.5,-.809017],[0,.525731,-.850651],[-.525731,0,-.850651],[-.442863,.238856,-.864188],[-.295242,0,-.955423],[-.16246,.262866,-.951056],[0,0,-1],[.295242,0,-.955423],[.16246,.262866,-.951056],[-.442863,-.238856,-.864188],[-.309017,-.5,-.809017],[-.16246,-.262866,-.951056],[0,-.850651,-.525731],[-.147621,-.716567,-.681718],[.147621,-.716567,-.681718],[0,-.525731,-.850651],[.309017,-.5,-.809017],[.442863,-.238856,-.864188],[.16246,-.262866,-.951056],[.238856,-.864188,-.442863],[.5,-.809017,-.309017],[.425325,-.688191,-.587785],[.716567,-.681718,-.147621],[.688191,-.587785,-.425325],[.587785,-.425325,-.688191],[0,-.955423,-.295242],[0,-1,0],[.262866,-.951056,-.16246],[0,-.850651,.525731],[0,-.955423,.295242],[.238856,-.864188,.442863],[.262866,-.951056,.16246],[.5,-.809017,.309017],[.716567,-.681718,.147621],[.525731,-.850651,0],[-.238856,-.864188,-.442863],[-.5,-.809017,-.309017],[-.262866,-.951056,-.16246],[-.850651,-.525731,0],[-.716567,-.681718,-.147621],[-.716567,-.681718,.147621],[-.525731,-.850651,0],[-.5,-.809017,.309017],[-.238856,-.864188,.442863],[-.262866,-.951056,.16246],[-.864188,-.442863,.238856],[-.809017,-.309017,.5],[-.688191,-.587785,.425325],[-.681718,-.147621,.716567],[-.442863,-.238856,.864188],[-.587785,-.425325,.688191],[-.309017,-.5,.809017],[-.147621,-.716567,.681718],[-.425325,-.688191,.587785],[-.16246,-.262866,.951056],[.442863,-.238856,.864188],[.16246,-.262866,.951056],[.309017,-.5,.809017],[.147621,-.716567,.681718],[0,-.525731,.850651],[.425325,-.688191,.587785],[.587785,-.425325,.688191],[.688191,-.587785,.425325],[-.955423,.295242,0],[-.951056,.16246,.262866],[-1,0,0],[-.850651,0,.525731],[-.955423,-.295242,0],[-.951056,-.16246,.262866],[-.864188,.442863,-.238856],[-.951056,.16246,-.262866],[-.809017,.309017,-.5],[-.864188,-.442863,-.238856],[-.951056,-.16246,-.262866],[-.809017,-.309017,-.5],[-.681718,.147621,-.716567],[-.681718,-.147621,-.716567],[-.850651,0,-.525731],[-.688191,.587785,-.425325],[-.587785,.425325,-.688191],[-.425325,.688191,-.587785],[-.425325,-.688191,-.587785],[-.587785,-.425325,-.688191],[-.688191,-.587785,-.425325]];class a extends s.aNw{constructor(e){super(e)}load(e,t,r,n){const a=this;var i=new s.hH6(a.manager);i.setPath(a.path),i.setResponseType("arraybuffer"),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(r){try{t(a.parse(r))}catch(r){n&&n(r),a.manager.itemError(e)}}),r,n)}parse(e){var t=new DataView(e),r={},a=["ident","version","skinwidth","skinheight","framesize","num_skins","num_vertices","num_st","num_tris","num_glcmds","num_frames","offset_skins","offset_st","offset_tris","offset_frames","offset_glcmds","offset_end"];for(let s=0;s<a.length;s++)r[a[s]]=t.getInt32(4*s,!0);if(844121161===r.ident&&8===r.version&&r.offset_end===t.byteLength){e=new s.u9r;var i=[];let a=r.offset_st;for(let e=0,s=r.num_st;e<s;e++){var o=t.getInt16(a+0,!0),l=t.getInt16(a+2,!0);i.push(o/r.skinwidth,1-l/r.skinheight),a+=4}a=r.offset_tris;var f=[],u=[];for(let e=0,s=r.num_tris;e<s;e++)f.push(t.getUint16(a+0,!0),t.getUint16(a+2,!0),t.getUint16(a+4,!0)),u.push(t.getUint16(a+6,!0),t.getUint16(a+8,!0),t.getUint16(a+10,!0)),a+=12;var h=new s.Pa4,m=new s.Pa4,g=[];a=r.offset_frames;for(let e=0,s=r.num_frames;e<s;e++){m.set(t.getFloat32(a+0,!0),t.getFloat32(a+4,!0),t.getFloat32(a+8,!0)),h.set(t.getFloat32(a+12,!0),t.getFloat32(a+16,!0),t.getFloat32(a+20,!0)),a+=24;var v=[];for(let e=0;e<16;e++){var p=t.getUint8(a+e);if(0===p)break;v[e]=p}var c={name:String.fromCharCode.apply(null,v),vertices:[],normals:[]};a+=16;for(let e=0;e<r.num_vertices;e++){var _=t.getUint8(a++),d=t.getUint8(a++),w=t.getUint8(a++),k=n[t.getUint8(a++)];_=_*m.x+h.x,d=d*m.y+h.y,w=w*m.z+h.z;c.vertices.push(_,w,d),c.normals.push(k[0],k[2],k[1])}g.push(c)}const S=[],E=[];var U=[],b=g[0].vertices,C=g[0].normals;for(let e=0,t=f.length;e<t;e++){var y=3*f[e],F=b[y],A=b[1+y],$=b[2+y];F=(S.push(F,A,$),C[y]),A=C[1+y],$=C[2+y],F=(E.push(F,A,$),u[e]);U.push(i[y=2*F],i[1+y])}e.setAttribute("position",new s.a$l(S,3)),e.setAttribute("normal",new s.a$l(E,3)),e.setAttribute("uv",new s.a$l(U,2));var q=[],x=[];for(let e=0,t=g.length;e<t;e++){var z=g[e],H=z.name;if(0<z.vertices.length){const e=[];for(let t=0,r=f.length;t<r;t++){var I=3*f[t],P=z.vertices[I],R=z.vertices[1+I];I=z.vertices[2+I];e.push(P,R,I)}var T=new s.a$l(e,3);T.name=H,q.push(T)}if(0<z.normals.length){const e=[];for(let t=0,r=f.length;t<r;t++){var D=3*f[t],L=z.normals[D],M=z.normals[1+D];D=z.normals[2+D];e.push(L,M,D)}T=new s.a$l(e,3),T.name=H,x.push(T)}}return e.morphAttributes.position=q,e.morphAttributes.normal=x,e.morphTargetsRelative=!1,e.animations=s.m7l.CreateClipsFromMorphTargetSequences(g,10),e}}}}}]);