"use strict";(self["webpackChunkthree_model_viewer"]=self["webpackChunkthree_model_viewer"]||[]).push([[190],{190:function(t,e,n){n.r(e),n.d(e,{SVGLoader:function(){return o}});var r=n(277);class o extends r.aNw{constructor(t){super(t),this.defaultDPI=90,this.defaultUnit="px"}load(t,e,n,o){const i=this,s=new r.hH6(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(t,(function(n){try{e(i.parse(n))}catch(r){o?o(r):console.error(r),i.manager.itemError(t)}}),n,o)}parse(t){const e=this;function n(t,e){if(1!==t.nodeType)return;const r=M(t);let s=!1,a=null;switch(t.nodeName){case"svg":e=p(t,e);break;case"style":i(t);break;case"g":e=p(t,e);break;case"path":e=p(t,e),t.hasAttribute("d")&&(a=o(t));break;case"rect":e=p(t,e),a=c(t);break;case"polygon":e=p(t,e),a=l(t);break;case"polyline":e=p(t,e),a=u(t);break;case"circle":e=p(t,e),a=y(t);break;case"ellipse":e=p(t,e),a=f(t);break;case"line":e=p(t,e),a=h(t);break;case"defs":s=!0;break;case"use":e=p(t,e);const r=t.getAttributeNS("http://www.w3.org/1999/xlink","href")||"",d=r.substring(1),x=t.viewportElement.getElementById(d);x?n(x,e):console.warn("SVGLoader: 'use node' references non-existent node id: "+d);break;default:}a&&(void 0!==e.fill&&"none"!==e.fill&&a.color.setStyle(e.fill),w(a,G),N.push(a),a.userData={node:t,style:e});const d=t.childNodes;for(let o=0;o<d.length;o++){const t=d[o];s&&"style"!==t.nodeName&&"defs"!==t.nodeName||n(t,e)}r&&(S.pop(),S.length>0?G.copy(S[S.length-1]):G.identity())}function o(t){const e=new r.T_1,n=new r.FM8,o=new r.FM8,i=new r.FM8;let a=!0,c=!1;const l=t.getAttribute("d"),u=l.match(/[a-df-z][^a-df-z]*/gi);for(let r=0,y=u.length;r<y;r++){const t=u[r],l=t.charAt(0),y=t.slice(1).trim();let f;switch(!0===a&&(c=!0,a=!1),l){case"M":f=x(y);for(let t=0,r=f.length;t<r;t+=2)n.x=f[t+0],n.y=f[t+1],o.x=n.x,o.y=n.y,0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y),0===t&&i.copy(n);break;case"H":f=x(y);for(let t=0,r=f.length;t<r;t++)n.x=f[t],o.x=n.x,o.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&i.copy(n);break;case"V":f=x(y);for(let t=0,r=f.length;t<r;t++)n.y=f[t],o.x=n.x,o.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&i.copy(n);break;case"L":f=x(y);for(let t=0,r=f.length;t<r;t+=2)n.x=f[t+0],n.y=f[t+1],o.x=n.x,o.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&i.copy(n);break;case"C":f=x(y);for(let t=0,r=f.length;t<r;t+=6)e.bezierCurveTo(f[t+0],f[t+1],f[t+2],f[t+3],f[t+4],f[t+5]),o.x=f[t+2],o.y=f[t+3],n.x=f[t+4],n.y=f[t+5],0===t&&!0===c&&i.copy(n);break;case"S":f=x(y);for(let t=0,r=f.length;t<r;t+=4)e.bezierCurveTo(d(n.x,o.x),d(n.y,o.y),f[t+0],f[t+1],f[t+2],f[t+3]),o.x=f[t+0],o.y=f[t+1],n.x=f[t+2],n.y=f[t+3],0===t&&!0===c&&i.copy(n);break;case"Q":f=x(y);for(let t=0,r=f.length;t<r;t+=4)e.quadraticCurveTo(f[t+0],f[t+1],f[t+2],f[t+3]),o.x=f[t+0],o.y=f[t+1],n.x=f[t+2],n.y=f[t+3],0===t&&!0===c&&i.copy(n);break;case"T":f=x(y);for(let t=0,r=f.length;t<r;t+=2){const r=d(n.x,o.x),s=d(n.y,o.y);e.quadraticCurveTo(r,s,f[t+0],f[t+1]),o.x=r,o.y=s,n.x=f[t+0],n.y=f[t+1],0===t&&!0===c&&i.copy(n)}break;case"A":f=x(y,[3,4],7);for(let t=0,r=f.length;t<r;t+=7){if(f[t+5]==n.x&&f[t+6]==n.y)continue;const r=n.clone();n.x=f[t+5],n.y=f[t+6],o.x=n.x,o.y=n.y,s(e,f[t],f[t+1],f[t+2],f[t+3],f[t+4],r,n),0===t&&!0===c&&i.copy(n)}break;case"m":f=x(y);for(let t=0,r=f.length;t<r;t+=2)n.x+=f[t+0],n.y+=f[t+1],o.x=n.x,o.y=n.y,0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y),0===t&&i.copy(n);break;case"h":f=x(y);for(let t=0,r=f.length;t<r;t++)n.x+=f[t],o.x=n.x,o.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&i.copy(n);break;case"v":f=x(y);for(let t=0,r=f.length;t<r;t++)n.y+=f[t],o.x=n.x,o.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&i.copy(n);break;case"l":f=x(y);for(let t=0,r=f.length;t<r;t+=2)n.x+=f[t+0],n.y+=f[t+1],o.x=n.x,o.y=n.y,e.lineTo(n.x,n.y),0===t&&!0===c&&i.copy(n);break;case"c":f=x(y);for(let t=0,r=f.length;t<r;t+=6)e.bezierCurveTo(n.x+f[t+0],n.y+f[t+1],n.x+f[t+2],n.y+f[t+3],n.x+f[t+4],n.y+f[t+5]),o.x=n.x+f[t+2],o.y=n.y+f[t+3],n.x+=f[t+4],n.y+=f[t+5],0===t&&!0===c&&i.copy(n);break;case"s":f=x(y);for(let t=0,r=f.length;t<r;t+=4)e.bezierCurveTo(d(n.x,o.x),d(n.y,o.y),n.x+f[t+0],n.y+f[t+1],n.x+f[t+2],n.y+f[t+3]),o.x=n.x+f[t+0],o.y=n.y+f[t+1],n.x+=f[t+2],n.y+=f[t+3],0===t&&!0===c&&i.copy(n);break;case"q":f=x(y);for(let t=0,r=f.length;t<r;t+=4)e.quadraticCurveTo(n.x+f[t+0],n.y+f[t+1],n.x+f[t+2],n.y+f[t+3]),o.x=n.x+f[t+0],o.y=n.y+f[t+1],n.x+=f[t+2],n.y+=f[t+3],0===t&&!0===c&&i.copy(n);break;case"t":f=x(y);for(let t=0,r=f.length;t<r;t+=2){const r=d(n.x,o.x),s=d(n.y,o.y);e.quadraticCurveTo(r,s,n.x+f[t+0],n.y+f[t+1]),o.x=r,o.y=s,n.x=n.x+f[t+0],n.y=n.y+f[t+1],0===t&&!0===c&&i.copy(n)}break;case"a":f=x(y,[3,4],7);for(let t=0,r=f.length;t<r;t+=7){if(0==f[t+5]&&0==f[t+6])continue;const r=n.clone();n.x+=f[t+5],n.y+=f[t+6],o.x=n.x,o.y=n.y,s(e,f[t],f[t+1],f[t+2],f[t+3],f[t+4],r,n),0===t&&!0===c&&i.copy(n)}break;case"Z":case"z":e.currentPath.autoClose=!0,e.currentPath.curves.length>0&&(n.copy(i),e.currentPath.currentPoint.copy(n),a=!0);break;default:console.warn(t)}c=!1}return e}function i(t){if(t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length)for(let e=0;e<t.sheet.cssRules.length;e++){const n=t.sheet.cssRules[e];if(1!==n.type)continue;const r=n.selectorText.split(/,/gm).filter(Boolean).map((t=>t.trim()));for(let t=0;t<r.length;t++){const e=Object.fromEntries(Object.entries(n.style).filter((([,t])=>""!==t)));E[r[t]]=Object.assign(E[r[t]]||{},e)}}}function s(t,e,n,r,o,i,s,c){if(0==e||0==n)return void t.lineTo(c.x,c.y);r=r*Math.PI/180,e=Math.abs(e),n=Math.abs(n);const l=(s.x-c.x)/2,u=(s.y-c.y)/2,y=Math.cos(r)*l+Math.sin(r)*u,f=-Math.sin(r)*l+Math.cos(r)*u;let h=e*e,p=n*n;const d=y*y,x=f*f,b=d/h+x/p;if(b>1){const t=Math.sqrt(b);e*=t,n*=t,h=e*e,p=n*n}const g=h*x+p*d,m=(h*p-g)/g;let M=Math.sqrt(Math.max(0,m));o===i&&(M=-M);const k=M*e*f/n,w=-M*n*y/e,A=Math.cos(r)*k-Math.sin(r)*w+(s.x+c.x)/2,T=Math.sin(r)*k+Math.cos(r)*w+(s.y+c.y)/2,v=a(1,0,(y-k)/e,(f-w)/n),I=a((y-k)/e,(f-w)/n,(-y-k)/e,(-f-w)/n)%(2*Math.PI);t.currentPath.absellipse(A,T,e,n,v,v+I,0===i,r)}function a(t,e,n,r){const o=t*n+e*r,i=Math.sqrt(t*t+e*e)*Math.sqrt(n*n+r*r);let s=Math.acos(Math.max(-1,Math.min(1,o/i)));return t*r-e*n<0&&(s=-s),s}function c(t){const e=m(t.getAttribute("x")||0),n=m(t.getAttribute("y")||0),o=m(t.getAttribute("rx")||t.getAttribute("ry")||0),i=m(t.getAttribute("ry")||t.getAttribute("rx")||0),s=m(t.getAttribute("width")),a=m(t.getAttribute("height")),c=.448084975506,l=new r.T_1;return l.moveTo(e+o,n),l.lineTo(e+s-o,n),0===o&&0===i||l.bezierCurveTo(e+s-o*c,n,e+s,n+i*c,e+s,n+i),l.lineTo(e+s,n+a-i),0===o&&0===i||l.bezierCurveTo(e+s,n+a-i*c,e+s-o*c,n+a,e+s-o,n+a),l.lineTo(e+o,n+a),0===o&&0===i||l.bezierCurveTo(e+o*c,n+a,e,n+a-i*c,e,n+a-i),l.lineTo(e,n+i),0===o&&0===i||l.bezierCurveTo(e,n+i*c,e+o*c,n,e+o,n),l}function l(t){function e(t,e,n){const r=m(e),s=m(n);0===i?o.moveTo(r,s):o.lineTo(r,s),i++}const n=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,o=new r.T_1;let i=0;return t.getAttribute("points").replace(n,e),o.currentPath.autoClose=!0,o}function u(t){function e(t,e,n){const r=m(e),s=m(n);0===i?o.moveTo(r,s):o.lineTo(r,s),i++}const n=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,o=new r.T_1;let i=0;return t.getAttribute("points").replace(n,e),o.currentPath.autoClose=!1,o}function y(t){const e=m(t.getAttribute("cx")||0),n=m(t.getAttribute("cy")||0),o=m(t.getAttribute("r")||0),i=new r.y$t;i.absarc(e,n,o,0,2*Math.PI);const s=new r.T_1;return s.subPaths.push(i),s}function f(t){const e=m(t.getAttribute("cx")||0),n=m(t.getAttribute("cy")||0),o=m(t.getAttribute("rx")||0),i=m(t.getAttribute("ry")||0),s=new r.y$t;s.absellipse(e,n,o,i,0,2*Math.PI);const a=new r.T_1;return a.subPaths.push(s),a}function h(t){const e=m(t.getAttribute("x1")||0),n=m(t.getAttribute("y1")||0),o=m(t.getAttribute("x2")||0),i=m(t.getAttribute("y2")||0),s=new r.T_1;return s.moveTo(e,n),s.lineTo(o,i),s.currentPath.autoClose=!1,s}function p(t,e){e=Object.assign({},e);let n={};if(t.hasAttribute("class")){const e=t.getAttribute("class").split(/\s/).filter(Boolean).map((t=>t.trim()));for(let t=0;t<e.length;t++)n=Object.assign(n,E["."+e[t]])}function r(r,o,i){void 0===i&&(i=function(t){return t.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),t}),t.hasAttribute(r)&&(e[o]=i(t.getAttribute(r))),n[r]&&(e[o]=i(n[r])),t.style&&""!==t.style[r]&&(e[o]=i(t.style[r]))}function o(t){return Math.max(0,Math.min(1,m(t)))}function i(t){return Math.max(0,m(t))}return t.hasAttribute("id")&&(n=Object.assign(n,E["#"+t.getAttribute("id")])),r("fill","fill"),r("fill-opacity","fillOpacity",o),r("fill-rule","fillRule"),r("opacity","opacity",o),r("stroke","stroke"),r("stroke-opacity","strokeOpacity",o),r("stroke-width","strokeWidth",i),r("stroke-linejoin","strokeLineJoin"),r("stroke-linecap","strokeLineCap"),r("stroke-miterlimit","strokeMiterLimit",i),r("visibility","visibility"),e}function d(t,e){return t-(e-t)}function x(t,e,n){if("string"!==typeof t)throw new TypeError("Invalid input: "+typeof t);const r={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},o=0,i=1,s=2,a=3;let c=o,l=!0,u="",y="";const f=[];function h(t,e,n){const r=new SyntaxError('Unexpected character "'+t+'" at index '+e+".");throw r.partial=n,r}function p(){""!==u&&(""===y?f.push(Number(u)):f.push(Number(u)*Math.pow(10,Number(y)))),u="",y=""}let d;const x=t.length;for(let b=0;b<x;b++)if(d=t[b],Array.isArray(e)&&e.includes(f.length%n)&&r.FLAGS.test(d))c=i,u=d,p();else{if(c===o){if(r.WHITESPACE.test(d))continue;if(r.DIGIT.test(d)||r.SIGN.test(d)){c=i,u=d;continue}if(r.POINT.test(d)){c=s,u=d;continue}r.COMMA.test(d)&&(l&&h(d,b,f),l=!0)}if(c===i){if(r.DIGIT.test(d)){u+=d;continue}if(r.POINT.test(d)){u+=d,c=s;continue}if(r.EXP.test(d)){c=a;continue}r.SIGN.test(d)&&1===u.length&&r.SIGN.test(u[0])&&h(d,b,f)}if(c===s){if(r.DIGIT.test(d)){u+=d;continue}if(r.EXP.test(d)){c=a;continue}r.POINT.test(d)&&"."===u[u.length-1]&&h(d,b,f)}if(c===a){if(r.DIGIT.test(d)){y+=d;continue}if(r.SIGN.test(d)){if(""===y){y+=d;continue}1===y.length&&r.SIGN.test(y)&&h(d,b,f)}}r.WHITESPACE.test(d)?(p(),c=o,l=!1):r.COMMA.test(d)?(p(),c=o,l=!0):r.SIGN.test(d)?(p(),c=i,u=d):r.POINT.test(d)?(p(),c=s,u=d):h(d,b,f)}return p(),f}const b=["mm","cm","in","pt","pc","px"],g={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function m(t){let n,r="px";if("string"===typeof t||t instanceof String)for(let e=0,o=b.length;e<o;e++){const n=b[e];if(t.endsWith(n)){r=n,t=t.substring(0,t.length-n.length);break}}return"px"===r&&"px"!==e.defaultUnit?n=g["in"][e.defaultUnit]/e.defaultDPI:(n=g[r][e.defaultUnit],n<0&&(n=g[r]["in"]*e.defaultDPI)),n*parseFloat(t)}function M(t){if(!(t.hasAttribute("transform")||"use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))))return null;const e=k(t);return S.length>0&&e.premultiply(S[S.length-1]),G.copy(e),S.push(e),e}function k(t){const e=new r.Vkp,n=C;if("use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))){const n=m(t.getAttribute("x")),r=m(t.getAttribute("y"));e.translate(n,r)}if(t.hasAttribute("transform")){const r=t.getAttribute("transform").split(")");for(let t=r.length-1;t>=0;t--){const o=r[t].trim();if(""===o)continue;const i=o.indexOf("("),s=o.length;if(i>0&&i<s){const t=o.slice(0,i),e=x(o.slice(i+1));switch(n.identity(),t){case"translate":if(e.length>=1){const t=e[0];let r=0;e.length>=2&&(r=e[1]),n.translate(t,r)}break;case"rotate":if(e.length>=1){let t=0,r=0,o=0;t=e[0]*Math.PI/180,e.length>=3&&(r=e[1],o=e[2]),O.makeTranslation(-r,-o),F.makeRotation(t),L.multiplyMatrices(F,O),O.makeTranslation(r,o),n.multiplyMatrices(O,L)}break;case"scale":if(e.length>=1){const t=e[0];let r=t;e.length>=2&&(r=e[1]),n.scale(t,r)}break;case"skewX":1===e.length&&n.set(1,Math.tan(e[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===e.length&&n.set(1,0,0,Math.tan(e[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===e.length&&n.set(e[0],e[2],e[4],e[1],e[3],e[5],0,0,1);break}}e.premultiply(n)}}return e}function w(t,e){function n(t){V.set(t.x,t.y,1).applyMatrix3(e),t.set(V.x,V.y)}function o(t){const n=t.xRadius,o=t.yRadius,i=Math.cos(t.aRotation),s=Math.sin(t.aRotation),a=new r.Pa4(n*i,n*s,0),c=new r.Pa4(-o*s,o*i,0),l=a.applyMatrix3(e),u=c.applyMatrix3(e),y=C.set(l.x,u.x,0,l.y,u.y,0,0,0,1),f=O.copy(y).invert(),h=F.copy(f).transpose(),p=h.multiply(f),d=p.elements,x=P(d[0],d[1],d[4]),b=Math.sqrt(x.rt1),g=Math.sqrt(x.rt2);t.xRadius=1/b,t.yRadius=1/g,t.aRotation=Math.atan2(x.sn,x.cs);const m=(t.aEndAngle-t.aStartAngle)%(2*Math.PI)<Number.EPSILON;if(!m){const n=O.set(b,0,0,0,g,0,0,0,1),o=F.set(x.cs,x.sn,0,-x.sn,x.cs,0,0,0,1),i=n.multiply(o).multiply(y),s=t=>{const{x:e,y:n}=new r.Pa4(Math.cos(t),Math.sin(t),0).applyMatrix3(i);return Math.atan2(n,e)};t.aStartAngle=s(t.aStartAngle),t.aEndAngle=s(t.aEndAngle),A(e)&&(t.aClockwise=!t.aClockwise)}}function i(t){const n=v(e),r=I(e);t.xRadius*=n,t.yRadius*=r;const o=n>Number.EPSILON?Math.atan2(e.elements[1],e.elements[0]):Math.atan2(-e.elements[3],e.elements[4]);t.aRotation+=o,A(e)&&(t.aStartAngle*=-1,t.aEndAngle*=-1,t.aClockwise=!t.aClockwise)}const s=t.subPaths;for(let r=0,a=s.length;r<a;r++){const t=s[r],a=t.curves;for(let r=0;r<a.length;r++){const t=a[r];t.isLineCurve?(n(t.v1),n(t.v2)):t.isCubicBezierCurve?(n(t.v0),n(t.v1),n(t.v2),n(t.v3)):t.isQuadraticBezierCurve?(n(t.v0),n(t.v1),n(t.v2)):t.isEllipseCurve&&(R.set(t.aX,t.aY),n(R),t.aX=R.x,t.aY=R.y,T(e)?o(t):i(t))}}}function A(t){const e=t.elements;return e[0]*e[4]-e[1]*e[3]<0}function T(t){const e=t.elements,n=e[0]*e[3]+e[1]*e[4];if(0===n)return!1;const r=v(t),o=I(t);return Math.abs(n/(r*o))>Number.EPSILON}function v(t){const e=t.elements;return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function I(t){const e=t.elements;return Math.sqrt(e[3]*e[3]+e[4]*e[4])}function P(t,e,n){let r,o,i,s,a;const c=t+n,l=t-n,u=Math.sqrt(l*l+4*e*e);return c>0?(r=.5*(c+u),a=1/r,o=t*a*n-e*a*e):c<0?o=.5*(c-u):(r=.5*u,o=-.5*u),i=l>0?l+u:l-u,Math.abs(i)>2*Math.abs(e)?(a=-2*e/i,s=1/Math.sqrt(1+a*a),i=a*s):0===Math.abs(e)?(i=1,s=0):(a=-.5*i/e,i=1/Math.sqrt(1+a*a),s=a*i),l>0&&(a=i,i=-s,s=a),{rt1:r,rt2:o,cs:i,sn:s}}const N=[],E={},S=[],C=new r.Vkp,O=new r.Vkp,F=new r.Vkp,L=new r.Vkp,R=new r.FM8,V=new r.Pa4,G=new r.Vkp,q=(new DOMParser).parseFromString(t,"image/svg+xml");n(q.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});const W={paths:N,xml:q.documentElement};return W}static createShapes(t){const e=999999999,n={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},o={loc:n.ORIGIN,t:0};function i(t,e,r,i){const a=t.x,c=e.x,l=r.x,u=i.x,y=t.y,f=e.y,h=r.y,p=i.y,d=(u-l)*(y-h)-(p-h)*(a-l),x=(c-a)*(y-h)-(f-y)*(a-l),b=(p-h)*(c-a)-(u-l)*(f-y),g=d/b,m=x/b;if(0===b&&0!==d||g<=0||g>=1||m<0||m>1)return null;if(0===d&&0===b){for(let l=0;l<2;l++){if(s(0===l?r:i,t,e),o.loc==n.ORIGIN){const t=0===l?r:i;return{x:t.x,y:t.y,t:o.t}}if(o.loc==n.BETWEEN){const t=+(a+o.t*(c-a)).toPrecision(10),e=+(y+o.t*(f-y)).toPrecision(10);return{x:t,y:e,t:o.t}}}return null}{for(let a=0;a<2;a++)if(s(0===a?r:i,t,e),o.loc==n.ORIGIN){const t=0===a?r:i;return{x:t.x,y:t.y,t:o.t}}const l=+(a+g*(c-a)).toPrecision(10),u=+(y+g*(f-y)).toPrecision(10);return{x:l,y:u,t:g}}}function s(t,e,r){const i=r.x-e.x,s=r.y-e.y,a=t.x-e.x,c=t.y-e.y,l=i*c-a*s;if(t.x===e.x&&t.y===e.y)return o.loc=n.ORIGIN,void(o.t=0);if(t.x===r.x&&t.y===r.y)return o.loc=n.DESTINATION,void(o.t=1);if(l<-Number.EPSILON)return void(o.loc=n.LEFT);if(l>Number.EPSILON)return void(o.loc=n.RIGHT);if(i*a<0||s*c<0)return void(o.loc=n.BEHIND);if(Math.sqrt(i*i+s*s)<Math.sqrt(a*a+c*c))return void(o.loc=n.BEYOND);let u;u=0!==i?a/i:c/s,o.loc=n.BETWEEN,o.t=u}function a(t,e){const n=[],o=[];for(let s=1;s<t.length;s++){const a=t[s-1],c=t[s];for(let t=1;t<e.length;t++){const s=e[t-1],l=e[t],u=i(a,c,s,l);null!==u&&void 0===n.find((t=>t.t<=u.t+Number.EPSILON&&t.t>=u.t-Number.EPSILON))&&(n.push(u),o.push(new r.FM8(u.x,u.y)))}}return o}function c(t,e,n){const o=new r.FM8;e.getCenter(o);const i=[];return n.forEach((e=>{if(e.boundingBox.containsPoint(o)){const n=a(t,e.points);n.forEach((t=>{i.push({identifier:e.identifier,isCW:e.isCW,point:t})}))}})),i.sort(((t,e)=>t.point.x-e.point.x)),i}function l(t,e,n,o,i){null!==i&&void 0!==i&&""!==i||(i="nonzero");const s=new r.FM8;t.boundingBox.getCenter(s);const a=[new r.FM8(n,s.y),new r.FM8(o,s.y)],l=c(a,t.boundingBox,e);l.sort(((t,e)=>t.point.x-e.point.x));const u=[],y=[];l.forEach((e=>{e.identifier===t.identifier?u.push(e):y.push(e)}));const f=u[0].point.x,h=[];let p=0;while(p<y.length&&y[p].point.x<f)h.length>0&&h[h.length-1]===y[p].identifier?h.pop():h.push(y[p].identifier),p++;if(h.push(t.identifier),"evenodd"===i){const e=h.length%2===0,n=h[h.length-2];return{identifier:t.identifier,isHole:e,for:n}}if("nonzero"===i){let n=!0,r=null,o=null;for(let t=0;t<h.length;t++){const i=h[t];n?(o=e[i].isCW,n=!1,r=i):o!==e[i].isCW&&(o=e[i].isCW,n=!0)}return{identifier:t.identifier,isHole:n,for:r}}console.warn('fill-rule: "'+i+'" is currently not implemented.')}let u=e,y=-e,f=t.subPaths.map((t=>{const n=t.getPoints();let o=-e,i=e,s=-e,a=e;for(let e=0;e<n.length;e++){const t=n[e];t.y>o&&(o=t.y),t.y<i&&(i=t.y),t.x>s&&(s=t.x),t.x<a&&(a=t.x)}return y<=s&&(y=s+1),u>=a&&(u=a-1),{curves:t.curves,points:n,isCW:r.iDF.isClockWise(n),identifier:-1,boundingBox:new r.TUj(new r.FM8(a,i),new r.FM8(s,o))}}));f=f.filter((t=>t.points.length>1));for(let r=0;r<f.length;r++)f[r].identifier=r;const h=f.map((e=>l(e,f,u,y,t.userData?.style.fillRule))),p=[];return f.forEach((t=>{const e=h[t.identifier];if(!e.isHole){const e=new r.bnF;e.curves=t.curves;const n=h.filter((e=>e.isHole&&e.for===t.identifier));n.forEach((t=>{const n=f[t.identifier],o=new r.y$t;o.curves=n.curves,e.holes.push(o)})),p.push(e)}})),p}static getStrokeStyle(t,e,n,r,o){return t=void 0!==t?t:1,e=void 0!==e?e:"#000",n=void 0!==n?n:"miter",r=void 0!==r?r:"butt",o=void 0!==o?o:4,{strokeColor:e,strokeWidth:t,strokeLineJoin:n,strokeLineCap:r,strokeMiterLimit:o}}static pointsToStroke(t,e,n,i){const s=[],a=[],c=[];if(0===o.pointsToStrokeWithBuffers(t,e,n,i,s,a,c))return null;const l=new r.u9r;return l.setAttribute("position",new r.a$l(s,3)),l.setAttribute("normal",new r.a$l(a,3)),l.setAttribute("uv",new r.a$l(c,2)),l}static pointsToStrokeWithBuffers(t,e,n,o,i,s,a,c){const l=new r.FM8,u=new r.FM8,y=new r.FM8,f=new r.FM8,h=new r.FM8,p=new r.FM8,d=new r.FM8,x=new r.FM8,b=new r.FM8,g=new r.FM8,m=new r.FM8,M=new r.FM8,k=new r.FM8,w=new r.FM8,A=new r.FM8,T=new r.FM8,v=new r.FM8;n=void 0!==n?n:12,o=void 0!==o?o:.001,c=void 0!==c?c:0,t=J(t);const I=t.length;if(I<2)return 0;const P=t[0].equals(t[I-1]);let N,E,S=t[0];const C=e.strokeWidth/2,O=1/(I-1);let F,L,R,V,G=0,q=!1,W=0,z=3*c,B=2*c;D(t[0],t[1],l).multiplyScalar(C),x.copy(t[0]).sub(l),b.copy(t[0]).add(l),g.copy(x),m.copy(b);for(let r=1;r<I;r++){N=t[r],E=r===I-1?P?t[1]:void 0:t[r+1];const n=l;if(D(S,N,n),y.copy(n).multiplyScalar(C),M.copy(N).sub(y),k.copy(N).add(y),F=G+O,L=!1,void 0!==E){D(N,E,u),y.copy(u).multiplyScalar(C),w.copy(N).sub(y),A.copy(N).add(y),R=!0,y.subVectors(E,S),n.dot(y)<0&&(R=!1),1===r&&(q=R),y.subVectors(E,N),y.normalize();const t=Math.abs(n.dot(y));if(t>Number.EPSILON){const n=C/t;y.multiplyScalar(-n),f.subVectors(N,S),h.copy(f).setLength(n).add(y),T.copy(h).negate();const r=h.length(),o=f.length();f.divideScalar(o),p.subVectors(E,N);const i=p.length();switch(p.divideScalar(i),f.dot(T)<o&&p.dot(T)<i&&(L=!0),v.copy(h).add(N),T.add(N),V=!1,L?R?(A.copy(T),k.copy(T)):(w.copy(T),M.copy(T)):j(),e.strokeLineJoin){case"bevel":U(R,L,F);break;case"round":X(R,L),R?_(N,M,w,F,0):_(N,A,k,F,1);break;case"miter":case"miter-clip":default:const t=C*e.strokeMiterLimit/r;if(t<1){if("miter-clip"!==e.strokeLineJoin){U(R,L,F);break}X(R,L),R?(p.subVectors(v,M).multiplyScalar(t).add(M),d.subVectors(v,w).multiplyScalar(t).add(w),H(M,F,0),H(p,F,0),H(N,F,.5),H(N,F,.5),H(p,F,0),H(d,F,0),H(N,F,.5),H(d,F,0),H(w,F,0)):(p.subVectors(v,k).multiplyScalar(t).add(k),d.subVectors(v,A).multiplyScalar(t).add(A),H(k,F,1),H(p,F,1),H(N,F,.5),H(N,F,.5),H(p,F,1),H(d,F,1),H(N,F,.5),H(d,F,1),H(A,F,1))}else L?(R?(H(b,G,1),H(x,G,0),H(v,F,0),H(b,G,1),H(v,F,0),H(T,F,1)):(H(b,G,1),H(x,G,0),H(v,F,1),H(x,G,0),H(T,F,0),H(v,F,1)),R?w.copy(v):A.copy(v)):R?(H(M,F,0),H(v,F,0),H(N,F,.5),H(N,F,.5),H(v,F,0),H(w,F,0)):(H(k,F,1),H(v,F,1),H(N,F,.5),H(N,F,.5),H(v,F,1),H(A,F,1)),V=!0;break}}else j()}else j();P||r!==I-1||$(t[0],g,m,R,!0,G),G=F,S=N,x.copy(w),b.copy(A)}if(P){if(L&&i){let t=v,e=T;q!==R&&(t=T,e=v),R?(V||q)&&(e.toArray(i,0),e.toArray(i,9),V&&t.toArray(i,3)):!V&&q||(e.toArray(i,3),e.toArray(i,9),V&&t.toArray(i,0))}}else $(N,M,k,R,!1,F);return W;function D(t,e,n){return n.subVectors(e,t),n.set(-n.y,n.x).normalize()}function H(t,e,n){i&&(i[z]=t.x,i[z+1]=t.y,i[z+2]=0,s&&(s[z]=0,s[z+1]=0,s[z+2]=1),z+=3,a&&(a[B]=e,a[B+1]=n,B+=2)),W+=3}function _(t,e,r,o,i){l.copy(e).sub(t).normalize(),u.copy(r).sub(t).normalize();let s=Math.PI;const a=l.dot(u);Math.abs(a)<1&&(s=Math.abs(Math.acos(a))),s/=n,y.copy(e);for(let c=0,l=n-1;c<l;c++)f.copy(y).rotateAround(t,s),H(y,o,i),H(f,o,i),H(t,o,.5),y.copy(f);H(f,o,i),H(r,o,i),H(t,o,.5)}function j(){H(b,G,1),H(x,G,0),H(M,F,0),H(b,G,1),H(M,F,1),H(k,F,0)}function U(t,e,n){e?t?(H(b,G,1),H(x,G,0),H(M,F,0),H(b,G,1),H(M,F,0),H(T,F,1),H(M,n,0),H(w,n,0),H(T,n,.5)):(H(b,G,1),H(x,G,0),H(k,F,1),H(x,G,0),H(T,F,0),H(k,F,1),H(k,n,1),H(A,n,0),H(T,n,.5)):t?(H(M,n,0),H(w,n,0),H(N,n,.5)):(H(k,n,1),H(A,n,0),H(N,n,.5))}function X(t,e){e&&(t?(H(b,G,1),H(x,G,0),H(M,F,0),H(b,G,1),H(M,F,0),H(T,F,1),H(M,G,0),H(N,F,.5),H(T,F,1),H(N,F,.5),H(w,G,0),H(T,F,1)):(H(b,G,1),H(x,G,0),H(k,F,1),H(x,G,0),H(T,F,0),H(k,F,1),H(k,G,1),H(T,F,0),H(N,F,.5),H(N,F,.5),H(T,F,0),H(A,G,1)))}function $(t,n,r,o,s,a){switch(e.strokeLineCap){case"round":s?_(t,r,n,a,.5):_(t,n,r,a,.5);break;case"square":if(s)l.subVectors(n,t),u.set(l.y,-l.x),y.addVectors(l,u).add(t),f.subVectors(u,l).add(t),o?(y.toArray(i,3),f.toArray(i,0),f.toArray(i,9)):(y.toArray(i,3),y.toArray(i,9),f.toArray(i,0));else{l.subVectors(r,t),u.set(l.y,-l.x),y.addVectors(l,u).add(t),f.subVectors(u,l).add(t);const e=i.length;o?(y.toArray(i,e-3),f.toArray(i,e-6),f.toArray(i,e-12)):(y.toArray(i,e-6),f.toArray(i,e-3),f.toArray(i,e-12))}break;case"butt":default:break}}function J(t){let e=!1;for(let r=1,i=t.length-1;r<i;r++)if(t[r].distanceTo(t[r+1])<o){e=!0;break}if(!e)return t;const n=[];n.push(t[0]);for(let r=1,i=t.length-1;r<i;r++)t[r].distanceTo(t[r+1])>=o&&n.push(t[r]);return n.push(t[t.length-1]),n}}}}}]);
//# sourceMappingURL=190.b24886dc.js.map